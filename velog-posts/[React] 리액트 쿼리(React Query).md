<blockquote>
<p>웹사이트에서 사용하는 상태 데이터는 크게 두가지로 나뉜다.</p>
</blockquote>
<ul>
<li>클라이언트 상태 데이터</li>
<li>서버 상태 데이터<br />

</li>
</ul>
<h3 id="클라이언트-상태-데이터">클라이언트 상태 데이터</h3>
<p>웹사이트의 UI 상태 값이나, 유저가 입력 폼에 입력한 데이터 등 서버와 상관없이 브라우저 안에서만 사용하는 데이터</p>
<h3 id="서버-상태-데이터">서버 상태 데이터</h3>
<p>서버에서 가져오는 데이터를 말하는데, 브라우저에 등록된 뉴스 기사와 같은 각종 글은 모두 서버에서 받아오는 서버 상태 데이터다.</p>
<br />

<hr />
<br />

<h2 id="서버-상태server-state">서버 상태(Server State)</h2>
<h3 id="서버-상태-데이터의-특징">서버 상태 데이터의 특징</h3>
<p>서버에서 데이터를 받아오기까지 시간이 걸림 -&gt; 데이터를 받아오는 걸 비동기식으로 구현한다. 실제로 데이터를 받아오기까지 플레이스홀더 또는 로딩 처리를 한다.</p>
<p>때로는 데이터를 받아오는 과정에서 에러가 생길 수도 있는데, 그럴 때 이런 에러 상황을 어떻게 처리하고 어떤 식으로 유저에게 안내해 줄 것인지에 대한 고민도 필요하다.</p>
<p>또한 서버 상태 데이터는 가능한 최신 상태로 유지되어야 하는데 데이터를 한 번 받아오면 끝나는 게 아니라, 최신 데이터를 가능한(사이트 성격에 따라 얼마나 최신 데이터를 유지해야하는지 달라짐) 한 계속 받아와야 함.</p>
<p>이런 서버 상태 데이터의 특징들 때문에, 클라이언트 상태 데이터를 사용할 때와는 달리 다양한 시나리오를 고민하고 관리해야한다.</p>
<ul>
<li>데이터를 받아오는 중에는 어떤 화면을 보여줄 것인지, </li>
<li>로딩과 에러 상황은 어떻게 알 수 있을지,</li>
<li>서버로부터 받아 온 데이터들은 어떻게 관리할지,</li>
<li>데이터를 주기적으로 받아오려면 어떤 식으로 구현할지 등등</li>
</ul>
<p>이런 상황을 해결하기 위해 리액트 쿼리가 등장하게 되었다.</p>
<br />

<hr />
<br />

<h2 id="react-query">React Query</h2>
<h3 id="쿼리란">쿼리란?</h3>
<blockquote>
<p>'문의하다, 질문하다' 라는 뜻을 가진 단어로, 데이터베이스 같은 것에 필요한 데이터를 요청하는 것을 말한다.</p>
</blockquote>
<p>React Query()는 필요한 데이터를 백엔드에 요청받아 오는 React Hook이다.</p>
<p>리액트 쿼리는 데이터를 가져오는 과정에서 로딩과 에러 처리를 쉽게 구현할 수 있도록 여러 값을 제공해주고,
정해진 시간 혹은 조건마다 서버 상태 데이터를 최신으로 가져오는 작업도 알아서 해준다.
캐시(cache)를 사용해서 매번 서버에서 데이터를 가져올 필요없이 유저에게 더 빠르게 데이터를 보여주기도 한다.</p>
<p>그 외,</p>
<p>페이지네이션, infinite Query, Optimistic Update</p>
<p>와 같은 웹사이트들에서 자주 사용하는 기능을 구현할 수 있도록 해준다.</p>
<br />

<h3 id="react-query-리턴-값">React Query() 리턴 값</h3>
<p>React Query() 훅 리턴 값의 자주 사용하는 값 정리</p>
<ul>
<li><p>데이터
data에는 백엔드에서 받아온 데이터들이 들어있다.</p>
</li>
<li><p>데이터를 받아온 시간
dataUpdatedAt는 현재의 데이터를 받아온 시간을 나타내는 항목이다.
이 시간을 기준으로 언제 데이터를 refetch 할 것인지 등을 정하게 된다.</p>
</li>
<li><p>다양한 상태 정보
isError, isFetched, isPending, isPaused, isSuccess와 같은 다양한 상태 정보도 확인해 볼 수 있다. </p>
</li>
</ul>
<p>그 외에도 fetchStatus, isStale, isPlaceholderData 등등 여러 값들이 있다.</p>